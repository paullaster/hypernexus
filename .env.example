APP_LOG_CHANNEL='daily'
LOG_LEVEL='debug'

# Copy this file to .env and fill in real values. DO NOT commit secrets.
# NOTE: The code expects the variable spelled exactly "BC_INTANCE" (no 'S').
# If you change that key name, update source code accordingly.


# API base domain (optional - defaults to 'https://<your-domain>' in code)
BC_API_BASE_URL=https://domain.com/v2.0/Sandbox

# Authentication type (required) â€” allowed values: ntlm | basic | oauth2
# - ntlm: uses BC_USERNAME, BC_PASSWORD, BC_DOMAIN (optional)
# - basic: uses BC_USERNAME, BC_PASSWORD
# - oauth2: uses Microsoft client credentials (see OAuth2 section)
BC_AUTH_TYPE=oauth2

# Company meta (optional)
BC_COMPANY_NAME=My Company
BC_COMPANY_ID=00000000

# Credentials (the code requires BC_USERNAME and BC_PASSWORD to be present)
# These are used for NTLM/basic. Note: current code also requires these to be set even when BC_AUTH_TYPE=oauth2.
BC_USERNAME=service_user
BC_PASSWORD=supersecret
BC_DOMAIN=YOUR_DOMAIN   # optional, used for NTLM

# Microsoft OAuth2 (used when BC_AUTH_TYPE=oauth2)
MICROSOFT_TENANT_ID=your-tenant-id
MICROSOFT_DYNAMICS_SAS_CLIENT_ID=your-client-id
MICROSOFT_DYNAMICS_SAS_CLIENT_SECRET=your-client-secret
MICROSOFT_DYNAMICS_SAS_GRANT_TYPE=client_credentials
MICROSOFT_DYNAMICS_SAS_SCOPE=https://api.businesscentral.dynamics.com/.default

# Redis (optional; defaults shown in code)
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_DB=0
REDIS_USERNAME=
REDIS_PASSWORD=

# NOTES:
# - accessTokenURL is generated at runtime as:
#     https://login.microsoftonline.com/${MICROSOFT_TENANT_ID}/oauth2/v2.0/token
# - The application will throw an error if BC_USERNAME or BC_PASSWORD are empty.
# - If using oauth2, ensure the Azure AD app (client) has proper permissions to request the Business Central scope.
